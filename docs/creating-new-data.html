<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 6 Creating New Data | ðŸ“Š TJ RS1 with R</title>
<meta name="author" content="Mr.Â Ng">
<meta name="description" content="Whew! Now that weâ€™ve learned how to filter properly, and select columns, we can talk about non-destructive operations.  6.1 Creating New Columns using a Vector Letâ€™s return to our original friends...">
<meta name="generator" content="bookdown 0.27.1 with bs4_book()">
<meta property="og:title" content="Chapter 6 Creating New Data | ðŸ“Š TJ RS1 with R">
<meta property="og:type" content="book">
<meta property="og:description" content="Whew! Now that weâ€™ve learned how to filter properly, and select columns, we can talk about non-destructive operations.  6.1 Creating New Columns using a Vector Letâ€™s return to our original friends...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 6 Creating New Data | ðŸ“Š TJ RS1 with R">
<meta name="twitter:description" content="Whew! Now that weâ€™ve learned how to filter properly, and select columns, we can talk about non-destructive operations.  6.1 Creating New Columns using a Vector Letâ€™s return to our original friends...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="apple-touch-icon" sizes="180x180" href="resources/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="resources/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="resources/images/favicon-16x16.png">
<link rel="manifest" href="resources/images/site.webmanifest">
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
<style>
    #content {
        font-size: 0.98rem;
    }
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.16/iframeResizer.min.js" type="text/javascript"></script><style>
    .interactive {
      position: relative;
    }  
    .interactive iframe {
      position: relative;
      z-index: 100;
      border: 0;
      width: 1px;
      min-width: 100%;
    }
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">ðŸ“Š TJ RS1 with R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li class="book-part">Getting Started</li>
<li><a class="" href="installing-r-and-rstudio.html">Installing R and RStudio</a></li>
<li><a class="" href="interacting-with-r-studio.html"><span class="header-section-number">1</span> Interacting with R Studio</a></li>
<li class="book-part">Working with Data</li>
<li><a class="" href="vectors.html"><span class="header-section-number">2</span> Vectors</a></li>
<li><a class="" href="dataframe.html"><span class="header-section-number">3</span> Creating Dataframes</a></li>
<li><a class="" href="replacing-or-removing-data.html"><span class="header-section-number">4</span> Replacing or Removing Data</a></li>
<li><a class="" href="selecting-and-filtering-data.html"><span class="header-section-number">5</span> Selecting and Filtering Data</a></li>
<li><a class="active" href="creating-new-data.html"><span class="header-section-number">6</span> Creating New Data</a></li>
<li><a class="" href="selecting-data-using-logical-conditions.html"><span class="header-section-number">7</span> Selecting Data Using Logical Conditions</a></li>
<li><a class="" href="vectors-and-dataframe-exercises.html">Vectors and Dataframe Exercises</a></li>
<li class="book-part">Presenting Data</li>
<li><a class="" href="summarizing-data.html"><span class="header-section-number">8</span> Summarizing Data</a></li>
<li><a class="" href="visualizing-one-variable-data.html"><span class="header-section-number">9</span> Visualizing One-Variable Data</a></li>
<li><a class="" href="summarizing-and-visualizing-data-exercises.html">Summarizing and Visualizing Data Exercises</a></li>
<li class="book-part">Sampling and Prbability</li>
<li><a class="" href="sampling-and-probability.html"><span class="header-section-number">10</span> Sampling and Probability</a></li>
<li class="book-part">Linear Regression</li>
<li><a class="" href="interpreting-scatterplots.html"><span class="header-section-number">11</span> Interpreting Scatterplots</a></li>
<li><a class="" href="creating-a-linear-model.html"><span class="header-section-number">12</span> Creating a Linear Model</a></li>
<li><a class="" href="regression-wisdom.html"><span class="header-section-number">13</span> Regression Wisdom</a></li>
<li class="book-part">Miscellaneous</li>
<li><a class="" href="downloading-data-from-the-census-bureau.html"><span class="header-section-number">14</span> Downloading Data from the Census Bureau</a></li>
<li><a class="" href="intro-to-two-sample-t-tests.html"><span class="header-section-number">15</span> Intro to Two-Sample T-Tests</a></li>
<li><a class="" href="intro-to-anova-analysis.html"><span class="header-section-number">16</span> Intro to ANOVA Analysis</a></li>
<li><a class="" href="errors.html">Deciphering Common R Errors</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/kaisamng/RGuides">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="creating-new-data" class="section level1" number="6">
<h1>
<span class="header-section-number">6</span> Creating New Data<a class="anchor" aria-label="anchor" href="#creating-new-data"><i class="fas fa-link"></i></a>
</h1>
<p>Whew! Now that weâ€™ve learned how to filter properly, and select columns, we can talk about non-destructive operations.</p>
<div id="creating-new-columns-using-a-vector" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Creating New Columns using a Vector<a class="anchor" aria-label="anchor" href="#creating-new-columns-using-a-vector"><i class="fas fa-link"></i></a>
</h2>
<p>Letâ€™s return to our original <code>friends</code> dataframe. Rather than replacing original data, we might prefer to add columns to reach the same purpose. Letâ€™s return to the example where I want to include my friendâ€™s last names. A smarter thing to do would be to <strong>add a column.</strong></p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">last_names</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"J"</span><span class="op">)</span> </span>
<span><span class="co">#Method 1: Use $</span></span>
<span></span>
<span><span class="va">friends</span><span class="op">$</span><span class="va">last_names</span><span class="op">&lt;-</span> <span class="va">last_names</span></span>
<span></span>
<span><span class="co">#Method 2: Use []. Notice that the column name is in quotes, because this is a name. If you don't have the quotes, R will literally use the vector to create a new column for each element in the vector last_names. </span></span>
<span></span>
<span><span class="va">friends</span><span class="op">[</span> ,<span class="st">'last_names'</span><span class="op">]</span><span class="op">&lt;-</span> <span class="va">last_names</span></span>
<span><span class="va">friends</span></span></code></pre></div>
<pre style="max-height: 150px; font-size:10px;"><code>##      names ages DC_Resident fav_number
## 1    Abram   34        TRUE        1.0
## 2   Bryant   35       FALSE        2.2
## 3  Colleen   32       FALSE       26.0
## 4    David   29        TRUE        7.0
## 5   Esther   30       FALSE       10.0
## 6 Jeremiah   30        TRUE        9.0
##   last_names
## 1          A
## 2          B
## 3          C
## 4          D
## 5          E
## 6          J</code></pre>
</div>
<div id="merging-two-columns-together-into-a-new-column" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> Merging two columns together into a new column<a class="anchor" aria-label="anchor" href="#merging-two-columns-together-into-a-new-column"><i class="fas fa-link"></i></a>
</h2>
<p>The last names are great, but we can improve even on this by <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code>ing the <code>names</code> column and the <code>last_names</code> column.</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">friends</span><span class="op">$</span><span class="va">full_names</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">friends</span><span class="op">$</span><span class="va">names</span>, <span class="va">friends</span><span class="op">$</span><span class="va">last_names</span><span class="op">)</span></span>
<span><span class="va">friends</span></span></code></pre></div>
<pre style="max-height: 150px; font-size:10px;"><code>##      names ages DC_Resident fav_number
## 1    Abram   34        TRUE        1.0
## 2   Bryant   35       FALSE        2.2
## 3  Colleen   32       FALSE       26.0
## 4    David   29        TRUE        7.0
## 5   Esther   30       FALSE       10.0
## 6 Jeremiah   30        TRUE        9.0
##   last_names full_names
## 1          A    Abram A
## 2          B   Bryant B
## 3          C  Colleen C
## 4          D    David D
## 5          E   Esther E
## 6          J Jeremiah J</code></pre>
<p>The paste function takes separate elements and combines them into one. Notice that this is different from the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function, which keeps elements separate into a single list.</p>
<p>There are many other ways to also combine columns together, like the <code>stringr</code> package or the <code>tidyr</code> package, which you can learn here, but are outside the scope of the book.</p>
</div>
<div id="merging-two-numerical-columns-into-a-new-column" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Merging two numerical columns into a new column<a class="anchor" aria-label="anchor" href="#merging-two-numerical-columns-into-a-new-column"><i class="fas fa-link"></i></a>
</h2>
<p>Combining two columns doesnâ€™t make sense for numerical vectorsâ€“ after all, if we want to combine 4 and 1, we donâ€™t want <code>4, 1</code>, we want 5 as our answer. Letâ€™s say I want to add my friendâ€™s ages to their favorite number (no reason why). Since we can add, subtract, and any other mathematical operation to two vectors as long as they have the same number of elements, this is easy to do.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">friends</span><span class="op">$</span><span class="va">age_and_fav_number</span><span class="op">&lt;-</span> <span class="va">friends</span><span class="op">$</span><span class="va">ages</span> <span class="op">+</span> <span class="va">friends</span><span class="op">$</span><span class="va">fav_number</span></span>
<span><span class="va">friends</span></span></code></pre></div>
<pre style="max-height: 150px; font-size:10px;"><code>##      names ages DC_Resident fav_number
## 1    Abram   34        TRUE        1.0
## 2   Bryant   35       FALSE        2.2
## 3  Colleen   32       FALSE       26.0
## 4    David   29        TRUE        7.0
## 5   Esther   30       FALSE       10.0
## 6 Jeremiah   30        TRUE        9.0
##   last_names full_names age_and_fav_number
## 1          A    Abram A                 35
## 2          B   Bryant B                 37
## 3          C  Colleen C                 58
## 4          D    David D                 36
## 5          E   Esther E                 40
## 6          J Jeremiah J                 39</code></pre>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="selecting-and-filtering-data.html"><span class="header-section-number">5</span> Selecting and Filtering Data</a></div>
<div class="next"><a href="selecting-data-using-logical-conditions.html"><span class="header-section-number">7</span> Selecting Data Using Logical Conditions</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>Chapter Contents</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#creating-new-data"><span class="header-section-number">6</span> Creating New Data</a></li>
<li><a class="nav-link" href="#creating-new-columns-using-a-vector"><span class="header-section-number">6.1</span> Creating New Columns using a Vector</a></li>
<li><a class="nav-link" href="#merging-two-columns-together-into-a-new-column"><span class="header-section-number">6.2</span> Merging two columns together into a new column</a></li>
<li><a class="nav-link" href="#merging-two-numerical-columns-into-a-new-column"><span class="header-section-number">6.3</span> Merging two numerical columns into a new column</a></li>
</ul>
      <div class="book-extra" hidden>
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/kaisamng/RGuides/blob/main/06-Creating-Data.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/kaisamng/RGuides/edit/main/06-Creating-Data.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>ðŸ“Š TJ RS1 with R</strong>" was written by Mr.Â Ng. It was last built on 01 July, 2022.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
